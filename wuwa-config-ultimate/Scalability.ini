; ==========================================================================================
;       WuWa Mobile Config - Ultimate Edition v2 (Annotated)
;       Scalability.ini - Quality Tier Definitions
; ==========================================================================================

[ScalabilityGroups]
; Force all groups to Level 4 (Ultimate)
sg.ViewDistanceQuality=4
sg.AntiAliasingQuality=4
sg.ShadowQuality=4
sg.PostProcessQuality=2 ; Kept at 2 to balance bloom and exposure
sg.TextureQuality=4
sg.EffectsQuality=4
sg.FoliageQuality=4
sg.ShadingQuality=4

[ViewDistanceQuality@4]
r.ViewDistanceScale=4.0 ; Extreme rendering range for world geometry
foliage.LODDistanceScale=4.0 ; Extreme grass rendering range
r.Kuro.NpcAppearDistance=30000 ; Prevents NPCs from appearing out of thin air

[ShadowQuality@4]
r.ShadowQuality=4
r.Shadow.CSM.MaxCascades=6 ; Sweet spot for depth vs performance (Prevents draw-call crashes)
r.Shadow.MaxCSMResolution=1536 ; High-definition shadow maps
r.Shadow.RadiusThreshold=0.0001 ; High detail for small object shadows
r.CapsuleShadows=1 ; High-quality soft shadows for characters

[TextureQuality@4]
r.MaxAnisotropy=16 ; Sharpest textures when viewing at angles (roads/walls)
r.MipMapLODBias=-0.5 ; Forces higher texture resolution (Level -1.0 can cause VRAM crashes)
r.Streaming.PoolSize=1280 ; Allocates enough RAM for 4K-tier textures

[PostProcessQuality@2]
; Balanced tier to prevent over-processing while keeping reflections high
r.BloomQuality=1
r.AOQuality=2 ; High quality ambient occlusion
r.SSR.Quality=4 ; Cinematic reflections
r.SSGI.Quality=1 ; Stable Global Illumination
r.Tonemapper.Quality=3 ; Best color grading logic
r.EyeAdaptationQuality=2 ; Proper exposure handling

[FoliageQuality@4]
foliage.DensityScale=1.0 ; Max grass density
grass.DensityScale=1.0
r.Kuro.Foliage.MobileFarCullDistanceMax=10000 ; Extreme grass distance
