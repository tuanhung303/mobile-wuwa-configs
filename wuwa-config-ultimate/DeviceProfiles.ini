; ==========================================================================================
;       WuWa Mobile Config - Ultimate Edition v5.5.1
;       DeviceProfiles.ini - Hardware Routing & Scoring
;       v5.5.1: Reviewed Experimental - Synced with Engine.ini
;       v5.5.0: Phase 1+2 - LRZ, UBWC, Subpass Merging, Wave32, GPU Scene
;       v5.4.1: Draw call optimization sync with Engine.ini
;       v5.4.0: Combat stability - VRS Foveation, Vulkan descriptor optimization
;       v5.3.3: Version sync with Engine.ini AFME stability refinements
;       v5.3.2: Version sync with Engine.ini frame time refinements
;       v5.3.1: Frame time stability optimizations synced with Engine.ini
;       v5.0.1: Added Adreno 840-specific CVars for reliable profile detection
;       v5.0: AFME Frame Gen optimized for Snapdragon 8 Elite (Adreno 840)
;       v4.9: Optimized for Snapdragon 8 Gen 5 with Adreno 840 - MAXED CONFIG
;       v3.6: Centralized logic to Engine.ini. This file now handles hardware identification.
; ==========================================================================================

[Android_Ultimate DeviceProfile]
DeviceType=Android
BaseProfileName=Android
CVars=r.MobileContentScaleFactor=0.0
DeviceScore=3200 ; Unlocks Cinematic menu toggles
; --- Adreno 840 Elite-Tier Overrides ---
+CVars=r.Mobile.AdrenoOcclusionMode=1
+CVars=r.Vulkan.AllowVRS=1
+CVars=r.VRS.Enable=1
+CVars=r.VRS.GPUTier=2                        ; [v5.4.0] Tier 2 VRS for Adreno 840
+CVars=r.VRS.FoveationPattern=1               ; [v5.4.0] Foveated shading - imperceptible quality loss
; --- v5.5.0 Phase 1 Additions ---
+CVars=r.Mobile.SupportGPUScene=1             ; [v5.5.0] GPU Scene data structure
+CVars=r.Mobile.EnableGPUScene=1              ; [v5.5.0] GPU Scene master toggle

[Android_Default DeviceProfile]
DeviceType=Android
BaseProfileName=Android_Ultimate

[Android_Adreno7xx DeviceProfile]
DeviceType=Android
BaseProfileName=Android_Ultimate

[Android_Adreno8xx DeviceProfile]
DeviceType=Android
BaseProfileName=Android_Ultimate
+CVars=r.Mobile.AdrenoOcclusionMode=1
+CVars=r.Vulkan.Adreno.TBDR.Optimize=1

[Android_Snapdragon8Gen5 DeviceProfile]
DeviceType=Android
BaseProfileName=Android_Ultimate
DeviceScore=3200
+CVars=r.Vulkan.Adreno.HPMCacheSize=12288   ; [v5.2.0] Aligned with Adreno 840 12MB L2 specification
+CVars=r.Vulkan.Adreno.TBDR.Optimize=1
+CVars=r.Vulkan.Adreno.FastZClear=1
; --- v5.4.0 Combat Stability Additions ---
+CVars=r.Vulkan.Adreno.ForceGPUBinUpdate=1  ; [v5.4.0] Forces GPU bin updates - fixes Adreno stutter
+CVars=r.Mobile.SceneColorBindingStrategy=1 ; [v5.4.0] Optimized scene color binding for TBDR
+CVars=r.Vulkan.MaxDescriptorSets=4096      ; [v5.4.0] Optimized from 16384 - Adreno sweet spot
+CVars=r.Vulkan.DescriptorSetReserve=512    ; [v5.4.0] Optimized from 2048 - reduces memory pressure
+CVars=r.Vulkan.MaxFrameLatency=2           ; [v5.4.0] Reduced from 4 - ~33ms less input lag
; --- v5.5.0 Phase 1+2 Additions (Adreno 840 Hardware Features) ---
+CVars=r.Vulkan.Adreno.LRZ.Enable=1         ; [v5.5.0] Low-Resolution Z culling (+15-25% fragment throughput)
+CVars=r.Mobile.EnableUBWC=1                ; [v5.5.0] Universal Bandwidth Compression
+CVars=r.Vulkan.UseSubpassMerging=1         ; [v5.5.0] Subpass merging for TBDR (30% bandwidth reduction)
+CVars=r.Vulkan.EnableWave32=1              ; [v5.5.0] Wave32 mode for Adreno 8xx
+CVars=r.Vulkan.CommandPoolStrategy=1       ; [v5.5.0] Per-thread command pools
+CVars=r.IndirectDrawing=1                  ; [v5.5.0] Vulkan 1.3 indirect draws
