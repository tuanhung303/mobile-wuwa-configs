; ==========================================================================================
;       WuWa Mobile Config - Ultimate Edition v5.0.2
;       Performance.ini - CPU/GPU/Memory Optimization
; ==========================================================================================
; Optimized for: Snapdragon 8 Elite (Gen 5) / 16GB RAM / Adreno 840 - MAXED CONFIG
; Target: 120 FPS via AFME Hardware Frame Generation (native 60 FPS + AFME interpolation)
;
; ======================== FRAME GENERATION ARCHITECTURE ========================
; This config is part of an AFME-only frame generation setup:
;   - Native render: 60 FPS (stable, consistent frame times)
;   - AFME Level 5: Interpolates to 120 FPS output
;   - FSR3 FI: DISABLED (would conflict with AFME)
;   - Game Space Frame Doubler: Should be DISABLED in phone settings
; ===============================================================================
;
; v5.0.2 Changes: THERMAL STABILITY (Senior UE4 Tech Lead):
;               - Reduced ThermalThreshold to 45 for better sustained performance
; v5.0 Changes: GPU CLOCK UNLOCKED FOR ACTIVE COOLING:
;               - GPU Clock: Increased to 1.0 (gaming phone with fan/liquid cooling)
;               - Previous 0.85 was conservative for passively-cooled flagships
;               - With RedMagic ICE 13.0 cooling, full clock is sustainable
; v5.0.1 Changes: DUPLICATE SETTINGS REMOVED (Performance.ini cleanup)
;               - Removed duplicate r.Threading.BigCoreAffinity/LittleCoreAffinity
;               - These are already set in CPU Scheduling section
; v4.9 Changes: OPTIMIZED FOR SNAPDRAGON 8 gen 5 (ADRENO 840):
;               - GPU Clock: 0.85 (thermal headroom for sustained 60 FPS)
;               - CPU Affinity: Oryon Prime (6-7) + Performance (4-5) cores
;               - Thermal: Threshold 42C for sustained performance
;               - Memory: 4GB streaming pool aligned with 16GB RAM
; ==========================================================================================

[Performance]
; ============================================
;       CPU Scheduling
; ============================================
; Snapdragon 8 gen 5 - 2x Oryon Prime (up to 4.6GHz) + 6x Oryon Performance (up to 3.6GHz)
; Pins Main/Render to Prime cores (6-7); RHI/FrameGen to High-Perf cores (4-5)
r.Threading.BigCoreAffinity=6-7
r.Threading.LittleCoreAffinity=4-5
r.Threading.RenderThreadPriority=1
r.KuroEnableCustomAffinity=1

; ============================================
;       GPU Clock Control (Adreno 840)
; ============================================
; GPU Clock Scale determines maximum GPU frequency as a percentage of peak (1.2GHz on Adreno 840)
;
; ACTIVE COOLING (Gaming phones with fan/liquid cooling - RedMagic, ROG, etc.):
;   - Use 0.95-1.0 for maximum performance
;   - ICE 13.0 cooling sustains peak clocks without thermal throttling
;
; PASSIVE COOLING (Standard flagships - Galaxy S25, Pixel, etc.):
;   - Use 0.80-0.85 to prevent thermal throttling after 10-15 minutes
;   - Higher values will cause frequency drops during sustained gaming
;
; Current setting optimized for: RedMagic with active cooling (fan enabled)
r.Vulkan.MaxGPUClockScale=1.0                ; [v5.0] FULL CLOCK - Active cooling sustains this without throttling

; ============================================
;       Memory Budget (16GB RAM) - SYNCED WITH ENGINE.INI V4.9
; ============================================
; [v4.9] 4GB streaming pool for 16GB RAM devices - stable ceiling for Android LMK
r.Streaming.PoolSize=4096
r.Streaming.MemoryBudget=4096
r.Streaming.LimitPoolSizeToVRAM=1
r.Streaming.MaxBandwidth=100000
r.Streaming.MinBandwidth=40000
r.Streaming.AmortizeCPUUsage=1

; --- Thermal Management (Adreno 840 Optimized) ---
r.Android.ThermalMitigation=1
r.Android.ThermalThreshold=45                   ; [v5.0.2] More conservative ceiling for sustained 120 FPS
r.Android.PowerSavingMode=0

; ============================================
;       Frame Pacing - SYNCED WITH ENGINE.INI V5.0
; ============================================
; [v5.0] Native hardware frame gen (AFME) handles pacing internally
; CPU affinity is set in the CPU Scheduling section above (removed duplicate)
